<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<ItemGroup>
		<NoInstallProjFile Include="**/*Test*proj"/>
		<NoInstallProjFile Include="**/*Mock*proj" />
	</ItemGroup>

	<PropertyGroup>
		<SrcRoot>$( [System.Text.RegularExpressions.Regex]::Match( $(MSBuildProjectDirectory), "^.*\\src(?=\\|$)").Value )</SrcRoot>
		<SolutionDir>$(SrcRoot)\solution</SolutionDir>
		<BuildRoot>$(SrcRoot)\..\build</BuildRoot>
		<WebBuildRoot>$(BuildRoot)\web</WebBuildRoot>
		<KeyFilePath>$(SrcRoot)\..\..\private\troyparsons.snk</KeyFilePath>
		<Configuration Condition=" '$(Configuration)' == '' ">Release</Configuration>

		<WebProjectGuid>349c5851-65df-11da-9384-00065b846f21</WebProjectGuid>
	</PropertyGroup>
	
	<PropertyGroup Condition="'$(Configuration)' == 'Release'">
		<OutDirName>assemblies</OutDirName>
		<Optimize>true</Optimize>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)' != 'Release'">
		<OutDirName>assemblies\.debug</OutDirName>
		<Optimize>false</Optimize>
	</PropertyGroup>

	<PropertyGroup>
		<AssemblyBuildPath>$(BuildRoot)\$(OutDirName)\</AssemblyBuildPath>
		<OutputPath>$(AssemblyBuildPath)</OutputPath>
		<AssemblyOriginatorKeyFile>$(KeyFilePath)</AssemblyOriginatorKeyFile>
		<SignAssembly>true</SignAssembly>
	</PropertyGroup>

	<ItemGroup>
		<CodeAnalysisDictionary Include="$(SolutionDir)\CustomDictionary.xml" />
	</ItemGroup>
</Project>
